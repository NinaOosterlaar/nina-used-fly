---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
	</head>
	<body>
		<Header />
		<main class="grow py-8 px-4">
			<div class="max-w-6xl mx-auto">
				<!-- Hero Section -->
				<section class="mb-16 text-center">
					<h1
						class="text-4xl md:text-5xl font-bold text-deep-pink mb-4"
					>
						Nina's Travel Diary
					</h1>
					<p class="text-lg text-gray-600 max-w-2xl mx-auto">
						Follow my journey around the world, one cozy adventure
						at a time. From hidden cafes to breathtaking landscapes,
						I share my most memorable experiences.
					</p>
				</section>

				<!-- Map Section -->
				<section class="mb-16">
					<h2
						class="text-2xl font-bold text-gray-800 mb-6 flex items-center"
					>
						<i class="fas fa-map-marked-alt mr-3 text-deep-pink"
						></i>
						Places I've Been
					</h2>
					<div
						class="map-container relative overflow-auto cursor-grab"
						id="draggable-map"
						style="width: 100%; height: 400px;"
					>
						<div
							class="map-inner"
							style="width: 1200px; height: 800px; position: relative;"
						>
							<img
								src="/src/assets/world.svg"
								alt="World Map"
								class="map-placeholder absolute top-0 left-0"
								style="user-drag: none; user-select: none; pointer-events: none;"
								draggable="false"
							/>

							<!-- Country Markers -->
							<div
								class="country-marker"
								style="top: 52.5%; left: 86%;"
								title="Japan"
							>
							</div>
							<div
								class="country-marker"
								style="top: 47%; left: 47.8%;"
								title="France"
							>
							</div>
							<div
								class="country-marker"
								style="top: 80%; left: 85%;"
								title="Australia"
							>
							</div>
							<div
								class="country-marker"
								style="top: 50%; left: 51%;"
								title="Italy"
							>
							</div>
							<div
								class="country-marker"
								style="top: 47.5%; left: 26%;"
								title="Canada"
							>
							</div>
							<div
								class="country-marker"
								style="top: 52%; left: 14%;"
								title="USA"
							>
							</div>
						</div>
					</div>
				</section>

				<!-- Recent Posts -->
				<section class="mb-16">
					<h2
						class="text-2xl font-bold text-gray-800 mb-6 flex items-center"
					>
						<i class="fas fa-book-open mr-3 text-deep-pink"></i>
						Latest Stories
					</h2>
					<div class="grid grid-cols-1 md:grid-cols-3 gap-8">
						<!-- Post 1 -->
						<div
							class="blog-card bg-white rounded-lg overflow-hidden"
						>
							<div
								class="h-48 bg-cover bg-center"
								style="background-image: url('https://images.unsplash.com/photo-1492571350019-22f0834b94ce?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80');"
							>
							</div>
							<div class="p-6">
								<span
									class="text-xs text-deep-pink uppercase font-semibold"
									>Japan • 3 days ago</span
								>
								<h3
									class="text-xl font-bold text-gray-800 mt-2 mb-3"
								>
									Cherry Blossoms & Quiet Mornings in Kyoto
								</h3>
								<p class="text-gray-600 mb-4">
									Waking up to the soft pink hues of sakura
									season in Kyoto's hidden alleys...
								</p>
								<a
									href="#"
									class="text-deep-pink font-medium flex items-center"
								>
									Read More <i class="fas fa-arrow-right ml-2"
									></i>
								</a>
							</div>
						</div>

						<!-- Post 2 -->
						<div
							class="blog-card bg-white rounded-lg overflow-hidden"
						>
							<div
								class="h-48 bg-cover bg-center"
								style="background-image: url('https://images.unsplash.com/photo-1503917988258-f87a78e3c995?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80');"
							>
							</div>
							<div class="p-6">
								<span
									class="text-xs text-deep-pink uppercase font-semibold"
									>France • 1 week ago</span
								>
								<h3
									class="text-xl font-bold text-gray-800 mt-2 mb-3"
								>
									A Cozy Winter in Parisian Cafés
								</h3>
								<p class="text-gray-600 mb-4">
									Finding warmth in small Parisian cafés while
									the city sparkled with Christmas lights...
								</p>
								<a
									href="#"
									class="text-deep-pink font-medium flex items-center"
								>
									Read More <i class="fas fa-arrow-right ml-2"
									></i>
								</a>
							</div>
						</div>

						<!-- Post 3 -->
						<div
							class="blog-card bg-white rounded-lg overflow-hidden"
						>
							<div
								class="h-48 bg-cover bg-center"
								style="background-image: url('https://images.unsplash.com/photo-1506973035872-ab4e896bbd22?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80');"
							>
							</div>
							<div class="p-6">
								<span
									class="text-xs text-deep-pink uppercase font-semibold"
									>Australia • 2 weeks ago</span
								>
								<h3
									class="text-xl font-bold text-gray-800 mt-2 mb-3"
								>
									Sydney's Hidden Beaches at Sunset
								</h3>
								<p class="text-gray-600 mb-4">
									Discovering secluded beaches where the
									golden hour lasts forever...
								</p>
								<a
									href="#"
									class="text-deep-pink font-medium flex items-center"
								>
									Read More <i class="fas fa-arrow-right ml-2"
									></i>
								</a>
							</div>
						</div>
					</div>

					<div class="text-center mt-10">
						<a
							href="#"
							class="inline-block px-6 py-3 bg-deep-pink text-white rounded-full hover:bg-dusty-pink transition duration-300"
						>
							View All Travel Stories
						</a>
					</div>
				</section>

				<!-- Newsletter -->
				<section class="bg-pastel-pink rounded-xl p-8 md:p-12 mb-16">
					<div class="max-w-2xl mx-auto text-center">
						<h2 class="text-2xl font-bold text-gray-800 mb-4">
							Join My Travel Journey
						</h2>
						<p class="text-gray-600 mb-6">
							Get cozy travel stories, hidden gems, and personal
							recommendations straight to your inbox every month.
						</p>
						<form
							class="flex flex-col sm:flex-row gap-4 max-w-md mx-auto"
						>
							<input
								type="email"
								placeholder="Your email address"
								class="grow px-4 py-3 rounded-full border-none focus:ring-2 focus:ring-deep-pink bg-white text-gray-800 placeholder-gray-400"
							/>
							<button
								type="submit"
								class="px-6 py-3 bg-deep-pink text-white rounded-full hover:bg-dusty-pink transition duration-300"
							>
								Subscribe
							</button>
						</form>
					</div>
				</section>
			</div>
		</main>
		<Footer />

		<!-- Navbar menu -->
		<script>
			document
				.querySelector("button.md\\:hidden")
				.addEventListener("click", function () {
					// This would toggle a mobile menu in a full implementation
					alert(
						"Mobile menu would open here in a full implementation!",
					);
				});

			// Animation for country markers
			const markers = document.querySelectorAll(".country-marker");
			markers.forEach((marker) => {
				marker.addEventListener("mouseenter", function () {
					const tooltip = document.createElement("div");
					tooltip.className =
						"absolute bg-white text-xs px-2 py-1 rounded whitespace-nowrap shadow-md";
					tooltip.textContent = this.getAttribute("title");
					tooltip.style.top = "-30px";
					tooltip.style.left = "50%";
					tooltip.style.transform = "translateX(-50%)";
					this.appendChild(tooltip);

					// Remove tooltip on mouseleave
					this.addEventListener(
						"mouseleave",
						function () {
							this.removeChild(tooltip);
						},
						{ once: true },
					);
				});
			});
		</script>

		<!-- Draggable Map Script -->
		<script type="module" is:inline>
			const map = document.getElementById("draggable-map");
			let isDragging = false;
			let startX, startY, scrollLeft, scrollTop;

			map.addEventListener("mousedown", (e) => {
				isDragging = true;
				map.classList.add("dragging");
				startX = e.pageX - map.offsetLeft;
				startY = e.pageY - map.offsetTop;
				scrollLeft = map.scrollLeft;
				scrollTop = map.scrollTop;
			});

			map.addEventListener("mouseleave", () => {
				isDragging = false;
				map.classList.remove("dragging");
			});

			map.addEventListener("mouseup", () => {
				isDragging = false;
				map.classList.remove("dragging");
			});

			map.addEventListener("mousemove", (e) => {
				if (!isDragging) return;
				e.preventDefault();
				const x = e.pageX - map.offsetLeft;
				const y = e.pageY - map.offsetTop;
				const walkX = x - startX;
				const walkY = y - startY;
				map.scrollLeft = scrollLeft - walkX;
				map.scrollTop = scrollTop - walkY;
			});

			// Prevent image drag
			const img = map.querySelector(".map-placeholder");
			img.addEventListener("dragstart", (e) => e.preventDefault());
		</script>

		<script is:inline>
			// Center the map on load
			window.addEventListener("DOMContentLoaded", () => {
				const map = document.getElementById("draggable-map");
				const inner = map.querySelector(".map-inner");
				map.scrollLeft = (inner.offsetWidth - map.offsetWidth) / 2;
				map.scrollTop = (inner.offsetHeight - map.offsetHeight) / 2;
			});
		</script>
	</body>
</html>
