---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
	</head>
	<body>
		<Header />
		<main>
			<div class="relative bg-gradient-to-b from-pink-50 to-white">
				<div
					class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20"
				>
					<div class="text-center">
						<h1
							class="title-font text-4xl md:text-5xl font-bold text-pink-400 mb-4"
						>
							Nina's Travel Diary
						</h1>
						<p class="max-w-2xl mx-auto text-lg text-gray-600">
							Chronicles of a wanderlust soul exploring the world
							one flight at a time
						</p>
					</div>
				</div>
			</div>

			<!-- Travel Map Section -->
			<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
				<div class="text-center mb-12">
					<h2
						class="title-font text-3xl font-semibold text-pink-400 mb-2"
					>
						My Journey So Far
					</h2>
					<p class="text-gray-500 max-w-2xl mx-auto">
						Click on the markers to see where I've been
					</p>
				</div>

				<div
					class="relative bg-white rounded-xl shadow-md overflow-hidden group"
					style="height: 400px;"
					id="draggable-map"
				>
					<img
						src="/src/assets/world.svg"
						alt="World Map"
						class="w-full h-full object-cover opacity-30 select-none pointer-events-none"
						draggable="false"
					/>

					<!-- Map Markers -->
					<div
						class="map-marker"
						style="top: 30%; left: 75%;"
						data-location="New York"
					></div>
					<div
						class="map-marker"
						style="top: 40%; left: 50%;"
						data-location="Paris"
					></div>
					<div
						class="map-marker"
						style="top: 60%; left: 70%;"
						data-location="Bali"
					></div>
					<div
						class="map-marker"
						style="top: 35%; left: 85%;"
						data-location="Tokyo"
					></div>
					<div
						class="map-marker"
						style="top: 55%; left: 60%;"
						data-location="Cairo"
					></div>
					<div
						class="map-marker"
						style="top: 25%; left: 55%;"
						data-location="London"
					></div>

					<div class="map-tooltip"></div>
				</div>
			</div>

			<style>
				@media (min-width: 1024px) {
					#draggable-map {
						height: 80vh !important;
						min-height: 500px;
						max-height: 900px;
					}
				}
				.map-marker {
					position: absolute;
					width: 22px;
					height: 22px;
					background: #f472b6;
					border: 2px solid #fff;
					border-radius: 50%;
					box-shadow: 0 2px 8px rgba(244, 114, 182, 0.2);
					cursor: pointer;
					transition: transform 0.15s, box-shadow 0.15s;
					transform: translate(-50%, -50%);
					z-index: 10;
				}
				.map-marker.active,
				.map-marker:hover {
					transform: translate(-50%, -50%) scale(1.2);
					box-shadow: 0 4px 16px rgba(244, 114, 182, 0.4);
				}
				.map-tooltip {
					position: absolute;
					pointer-events: none;
					background: #fff;
					color: #f472b6;
					padding: 6px 14px;
					border-radius: 8px;
					box-shadow: 0 2px 8px rgba(244, 114, 182, 0.15);
					font-size: 1rem;
					font-weight: 600;
					opacity: 0;
					transition: opacity 0.2s;
					z-index: 20;
					white-space: nowrap;
				}
			</style>

			<script is:inline>
				const map = document.getElementById("draggable-map");
				let isDragging = false;
				let startX, startY, scrollLeft, scrollTop;

				function isLargeScreen() {
					return window.innerWidth >= 1024;
				}

				function enableDrag() {
					map.style.cursor = "grab";
					map.addEventListener("mousedown", dragStart);
					map.addEventListener("mouseleave", dragEnd);
					map.addEventListener("mouseup", dragEnd);
					map.addEventListener("mousemove", dragMove);
					map.addEventListener("touchstart", dragStart, { passive: false });
					map.addEventListener("touchend", dragEnd);
					map.addEventListener("touchmove", dragMove, { passive: false });
				}

				function disableDrag() {
					map.style.cursor = "default";
					map.removeEventListener("mousedown", dragStart);
					map.removeEventListener("mouseleave", dragEnd);
					map.removeEventListener("mouseup", dragEnd);
					map.removeEventListener("mousemove", dragMove);
					map.removeEventListener("touchstart", dragStart);
					map.removeEventListener("touchend", dragEnd);
					map.removeEventListener("touchmove", dragMove);
				}

				function dragStart(e) {
					if (isLargeScreen()) return;
					isDragging = true;
					map.style.cursor = "grabbing";
					const evt = e.touches ? e.touches[0] : e;
					startX = evt.pageX - map.offsetLeft;
					startY = evt.pageY - map.offsetTop;
					scrollLeft = map.scrollLeft;
					scrollTop = map.scrollTop;
					e.preventDefault();
				}

				function dragEnd() {
					isDragging = false;
					map.style.cursor = "grab";
				}

				function dragMove(e) {
					if (!isDragging || isLargeScreen()) return;
					const evt = e.touches ? e.touches[0] : e;
					const x = evt.pageX - map.offsetLeft;
					const y = evt.pageY - map.offsetTop;
					map.scrollLeft = scrollLeft - (x - startX);
					map.scrollTop = scrollTop - (y - startY);
					e.preventDefault();
				}

				function updateMapBehavior() {
					if (isLargeScreen()) {
						disableDrag();
						map.scrollLeft = 0;
						map.scrollTop = 0;
					} else {
						enableDrag();
					}
				}

				window.addEventListener("resize", updateMapBehavior);
				window.addEventListener("DOMContentLoaded", () => {
					updateMapBehavior();
				});
			</script>

			<!-- Recent Posts -->
			<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
				<div class="text-center mb-12">
					<h2
						class="title-font text-3xl font-semibold text-pink-400 mb-2"
					>
						Latest Adventures
					</h2>
					<p class="text-gray-500 max-w-2xl mx-auto">
						My most recent travel stories
					</p>
				</div>

				<div class="grid grid-cols-1 md:grid-cols-3 gap-8">
					<!-- Post 1 -->
					<div
						class="post-card bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl"
					>
						<div class="h-48 overflow-hidden">
							<img
								src="https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
								alt="Bali Sunset"
								class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
							/>
						</div>
						<div class="p-6">
							<div
								class="flex items-center text-sm text-pink-400 mb-2"
							>
								<i class="fas fa-map-marker-alt mr-1"></i>
								<span>Bali, Indonesia</span>
								<span class="mx-2">•</span>
								<span>May 15, 2023</span>
							</div>
							<h3
								class="title-font text-xl font-semibold text-gray-800 mb-3"
							>
								Chasing Sunsets in Uluwatu
							</h3>
							<p class="text-gray-500 mb-4">
								The cliffs of Uluwatu offered the most
								breathtaking sunset views I've ever witnessed.
								The way the golden light danced on the waves...
							</p>
							<a
								href="#"
								class="inline-flex items-center text-pink-500 hover:text-pink-700 font-medium"
							>
								Read more
								<i class="fas fa-arrow-right ml-2"></i>
							</a>
						</div>
					</div>

					<!-- Post 2 -->
					<div
						class="post-card bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl"
					>
						<div class="h-48 overflow-hidden">
							<img
								src="https://images.unsplash.com/photo-1502602898657-3e91760cbb34?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1473&q=80"
								alt="Paris Streets"
								class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
							/>
						</div>
						<div class="p-6">
							<div
								class="flex items-center text-sm text-pink-400 mb-2"
							>
								<i class="fas fa-map-marker-alt mr-1"></i>
								<span>Paris, France</span>
								<span class="mx-2">•</span>
								<span>March 22, 2023</span>
							</div>
							<h3
								class="title-font text-xl font-semibold text-gray-800 mb-3"
							>
								A Rainy Day in Montmartre
							</h3>
							<p class="text-gray-500 mb-4">
								There's something magical about Paris in the
								rain. The cobblestone streets of Montmartre
								glistened as I wandered from café to café...
							</p>
							<a
								href="#"
								class="inline-flex items-center text-pink-500 hover:text-pink-700 font-medium"
							>
								Read more
								<i class="fas fa-arrow-right ml-2"></i>
							</a>
						</div>
					</div>

					<!-- Post 3 -->
					<div
						class="post-card bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl"
					>
						<div class="h-48 overflow-hidden">
							<img
								src="https://images.unsplash.com/photo-1492571350019-22de08371fd3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1453&q=80"
								alt="Tokyo Streets"
								class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
							/>
						</div>
						<div class="p-6">
							<div
								class="flex items-center text-sm text-pink-400 mb-2"
							>
								<i class="fas fa-map-marker-alt mr-1"></i>
								<span>Tokyo, Japan</span>
								<span class="mx-2">•</span>
								<span>January 8, 2023</span>
							</div>
							<h3
								class="title-font text-xl font-semibold text-gray-800 mb-3"
							>
								Lost in Translation in Shibuya
							</h3>
							<p class="text-gray-500 mb-4">
								Navigating the neon-lit streets of Shibuya with
								my limited Japanese was both challenging and
								exhilarating. The energy of this city is...
							</p>
							<a
								href="#"
								class="inline-flex items-center text-pink-500 hover:text-pink-700 font-medium"
							>
								Read more
								<i class="fas fa-arrow-right ml-2"></i>
							</a>
						</div>
					</div>
				</div>

				<div class="text-center mt-12">
					<a
						href="#"
						class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-pink-400 hover:bg-pink-500 transition-colors duration-300"
					>
						View All Diary Entries
						<i class="fas fa-book-open ml-2"></i>
					</a>
				</div>
			</div>

			<!-- Newsletter -->
			<div class="bg-pink-50">
				<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
					<div class="text-center">
						<h2
							class="title-font text-3xl font-semibold text-pink-400 mb-4"
						>
							Join My Travel Journey
						</h2>
						<p class="max-w-2xl mx-auto text-gray-600 mb-8">
							Subscribe to get notified when I post new travel
							stories and tips
						</p>

						<form class="mt-8 sm:mx-auto sm:max-w-lg sm:flex">
							<div class="min-w-0 flex-1">
								<label for="email" class="sr-only"
									>Email address</label
								>
								<input
									id="email"
									type="email"
									placeholder="Enter your email"
									class="block w-full px-5 py-3 text-base rounded-md border border-pink-300 bg-white text-gray-800 shadow-sm focus:ring-2 focus:ring-pink-300 focus:border-pink-400 placeholder-pink-300"
								/>
							</div>
							<div class="mt-4 sm:mt-0 sm:ml-3">
								<button
									type="submit"
									class="block w-full px-5 py-3 rounded-md shadow bg-pink-400 text-white font-medium hover:bg-pink-500 focus:outline-none focus:ring-2 focus:ring-pink-300 focus:ring-offset-2 transition-colors duration-300"
								>
									Subscribe
								</button>
							</div>
						</form>

						<p class="mt-3 text-sm text-gray-500">
							I respect your privacy. Unsubscribe at any time.
						</p>
					</div>
				</div>
			</div>
		</main>
		<Footer />

		<script>
			// Mobile menu toggle
			document
				.querySelector('[aria-controls="mobile-menu"]')
				.addEventListener("click", function () {
					const menu = document.getElementById("mobile-menu");
					menu.classList.toggle("hidden");
				});

			// Map marker interactions
			const markers = document.querySelectorAll(".map-marker");
			const tooltip = document.querySelector(".map-tooltip");

			markers.forEach((marker) => {
				marker.addEventListener("mouseenter", function () {
					// Remove active class from all markers
					markers.forEach((m) => m.classList.remove("active"));

					// Add active class to current marker
					this.classList.add("active");

					// Position and show tooltip
					const location = this.getAttribute("data-location");
					tooltip.textContent = location;

					const rect = this.getBoundingClientRect();
					const mapRect = this.parentElement.getBoundingClientRect();

					tooltip.style.left = `${rect.left - mapRect.left + rect.width / 2}px`;
					tooltip.style.top = `${rect.top - mapRect.top - 30}px`;
					tooltip.style.opacity = "1";
				});

				marker.addEventListener("mouseleave", function () {
					this.classList.remove("active");
					tooltip.style.opacity = "0";
				});
			});

			// Smooth scroll for anchor links
			document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
				anchor.addEventListener("click", function (e) {
					e.preventDefault();

					document
						.querySelector(this.getAttribute("href"))
						.scrollIntoView({
							behavior: "smooth",
						});
				});
			});
		</script>

		<!-- <script is:inline>
			// Center the map on load
			window.addEventListener("DOMContentLoaded", () => {
				const map = document.getElementById("draggable-map");
				const inner = map.querySelector(".map-inner");
				map.scrollLeft = (inner.offsetWidth - map.offsetWidth) / 2;
				map.scrollTop = (inner.offsetHeight - map.offsetHeight) / 2;
			});
		</script> -->
	</body>
</html>
